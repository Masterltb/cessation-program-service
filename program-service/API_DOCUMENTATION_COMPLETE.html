<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Program Service - API Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --success: #49cc90;
            --danger: #f93e3e;
            --warning: #fca130;
            --info: #61affe;
            --light: #f8f9fa;
            --dark: #2d3748;
            --border: #e2e8f0;
            --text: #4a5568;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: #fafbfc;
        }

        a {
            color: var(--primary);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.4;
        }

        pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .toc {
            background: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid var(--primary);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .toc h2 {
            margin-bottom: 15px;
            color: var(--dark);
            font-size: 20px;
        }

        .toc ol {
            margin-left: 20px;
        }

        .toc li {
            margin-bottom: 8px;
        }

        .section {
            background: white;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .section h2 {
            color: var(--dark);
            font-size: 28px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
        }

        .section h3 {
            color: var(--primary);
            font-size: 22px;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        .section h4 {
            color: var(--dark);
            font-size: 18px;
            margin-top: 15px;
            margin-bottom: 10px;
        }

        .endpoint {
            background: var(--light);
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary);
        }

        .method {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 12px;
            margin-bottom: 10px;
            color: white;
        }

        .method.get {
            background: var(--info);
        }

        .method.post {
            background: var(--success);
        }

        .method.put {
            background: var(--warning);
        }

        .method.patch {
            background: #50e3c2;
        }

        .method.delete {
            background: var(--danger);
        }

        .path {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            font-weight: bold;
            background: white;
            padding: 8px 12px;
            border-radius: 4px;
            display: inline-block;
            margin-left: 10px;
            color: var(--dark);
        }

        .auth-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            text-transform: uppercase;
            margin-left: 10px;
        }

        .auth-badge.required {
            background: #fce4ec;
            color: #c2185b;
        }

        .auth-badge.optional {
            background: #e3f2fd;
            color: #1565c0;
        }

        .endpoint-detail {
            margin-top: 12px;
        }

        .detail-row {
            display: flex;
            margin-bottom: 8px;
        }

        .detail-label {
            font-weight: bold;
            min-width: 120px;
            color: var(--primary);
        }

        .detail-value {
            flex: 1;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
        }

        table thead {
            background: var(--light);
        }

        table th {
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: var(--dark);
            border-bottom: 2px solid var(--border);
        }

        table td {
            padding: 12px;
            border-bottom: 1px solid var(--border);
        }

        table tr:hover {
            background: #f8fafc;
        }

        .alert {
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            border-left: 4px solid;
        }

        .alert.info {
            background: #e3f2fd;
            border-color: var(--info);
            color: #1565c0;
        }

        .alert.warning {
            background: #fff3e0;
            border-color: var(--warning);
            color: #e65100;
        }

        .alert.success {
            background: #e8f5e9;
            border-color: var(--success);
            color: #2e7d32;
        }

        .alert.danger {
            background: #ffebee;
            border-color: var(--danger);
            color: #c62828;
        }

        .controller-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .controller-header h3 {
            color: white;
            margin: 0;
            flex: 1;
        }

        .badge {
            background: rgba(255,255,255,0.3);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 6px;
            text-align: center;
            border-top: 4px solid var(--primary);
        }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: var(--primary);
        }

        .stat-label {
            font-size: 12px;
            color: var(--text);
            margin-top: 5px;
            text-transform: uppercase;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border: none;
            background: none;
            color: var(--text);
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .footer {
            text-align: center;
            padding: 30px 20px;
            color: var(--text);
            border-top: 1px solid var(--border);
            margin-top: 40px;
        }

        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            padding: 12px 16px;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            font-size: 18px;
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
            z-index: 50;
        }

        .back-to-top:hover {
            background: var(--secondary);
        }

        .back-to-top.show {
            display: block;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .card {
            background: white;
            padding: 20px;
            border-radius: 6px;
            border-left: 4px solid var(--primary);
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 24px;
            }

            .controller-header {
                flex-direction: column;
                gap: 10px;
                align-items: flex-start;
            }

            .detail-row {
                flex-direction: column;
            }

            .detail-label {
                margin-bottom: 5px;
            }
        }

        .highlight {
            background: #fffacd;
            padding: 2px 4px;
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <header>
        <h1>üìö Program Service API</h1>
        <p>Complete REST API Documentation | Version 1.0.0 | November 27, 2025</p>
    </header>

    <div class="container">
        <!-- Table of Contents -->
        <div class="toc">
            <h2>üìñ Table of Contents</h2>
            <ol>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#authentication">Authentication</a></li>
                <li><a href="#controllers">Controllers</a></li>
                <li><a href="#endpoints">API Endpoints</a></li>
                <li><a href="#models">Data Models</a></li>
                <li><a href="#errors">Error Handling</a></li>
                <li><a href="#examples">Examples</a></li>
            </ol>
        </div>

        <!-- Overview Section -->
        <div class="section" id="overview">
            <h2>üéØ Overview</h2>
            <p>Program Service l√† m·ªôt Spring Boot REST API to√†n di·ªán ƒë·ªÉ qu·∫£n l√Ω c√°c ch∆∞∆°ng tr√¨nh b·ªè thu·ªëc l√° (smoke-free programs). H·ªá th·ªëng cung c·∫•p 50 endpoint API ƒë∆∞·ª£c nh√≥m th√†nh 14 controller chuy√™n bi·ªát.</p>

            <h3>C√°c T√≠nh NƒÉng Ch√≠nh</h3>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>‚úÖ Qu·∫£n l√Ω ƒëƒÉng k√Ω ch∆∞∆°ng tr√¨nh (trial/paid)</li>
                <li>‚úÖ Qu·∫£n l√Ω ti·∫øn ƒë·ªô ch∆∞∆°ng tr√¨nh (pause, resume, end, extend)</li>
                <li>‚úÖ Qu·∫£n l√Ω n·ªôi dung h·ªçc t·∫≠p (modules, plan templates)</li>
                <li>‚úÖ Qu·∫£n l√Ω b√†i ki·ªÉm tra (quizzes, attempts, scores)</li>
                <li>‚úÖ Qu·∫£n l√Ω coach assignments (assign coach to customers)</li>
                <li>‚úÖ Theo d√µi s·ª± ki·ªán (smoke events)</li>
            </ul>

            <h3 style="margin-top: 20px;">Th·ªëng K√™ Endpoints</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">50</div>
                    <div class="stat-label">T·ªïng Endpoints</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">14</div>
                    <div class="stat-label">Controllers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">5</div>
                    <div class="stat-label">HTTP Methods</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">100%</div>
                    <div class="stat-label">Complete</div>
                </div>
            </div>
        </div>

        <!-- Authentication Section -->
        <div class="section" id="authentication">
            <h2>üîê Authentication</h2>

            <h3>Bearer Token (JWT)</h3>
            <p>H·∫ßu h·∫øt c√°c endpoint y√™u c·∫ßu x√°c th·ª±c th√¥ng qua JWT token:</p>
            <pre><code>Authorization: Bearer &lt;JWT_TOKEN&gt;</code></pre>

            <h3>Custom Headers</h3>
            <table>
                <thead>
                    <tr>
                        <th>Header</th>
                        <th>M√¥ T·∫£</th>
                        <th>V√≠ D·ª•</th>
                        <th>B·∫Øt Bu·ªôc</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>X-User-Id</code></td>
                        <td>UUID c·ªßa user</td>
                        <td><code>11111111-1111-1111-1111-111111111111</code></td>
                        <td>T√πy thu·ªôc endpoint</td>
                    </tr>
                    <tr>
                        <td><code>X-User-Group</code></td>
                        <td>Nh√≥m ng∆∞·ªùi d√πng</td>
                        <td><code>ADMIN, COACH, USER</code></td>
                        <td>T√πy thu·ªôc endpoint</td>
                    </tr>
                    <tr>
                        <td><code>X-User-Tier</code></td>
                        <td>M·ª©c subscription</td>
                        <td><code>basic, premium, vip</code></td>
                        <td>Kh√¥ng b·∫Øt bu·ªôc</td>
                    </tr>
                    <tr>
                        <td><code>X-User-Name</code></td>
                        <td>T√™n user</td>
                        <td><code>john.doe</code></td>
                        <td>Kh√¥ng b·∫Øt bu·ªôc</td>
                    </tr>
                </tbody>
            </table>

            <h3>Authorization Levels</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>Public</h4>
                    <p>Kh√¥ng c·∫ßn token</p>
                    <p style="font-size: 12px; color: #666;">GET /api/modules/{id}</p>
                </div>
                <div class="card">
                    <h4>Authenticated</h4>
                    <p>C·∫ßn JWT token h·ª£p l·ªá</p>
                    <p style="font-size: 12px; color: #666;">GET /api/programs/active</p>
                </div>
                <div class="card">
                    <h4>ADMIN Role</h4>
                    <p>C·∫ßn role ADMIN</p>
                    <p style="font-size: 12px; color: #666;">POST /api/modules</p>
                </div>
                <div class="card">
                    <h4>COACH Role</h4>
                    <p>C·∫ßn role COACH</p>
                    <p style="font-size: 12px; color: #666;">GET /api/coach-assignments/my-customers</p>
                </div>
            </div>
        </div>

        <!-- Controllers Section -->
        <div class="section" id="controllers">
            <h2>üéõÔ∏è Controllers</h2>

            <div class="alert info">
                <strong>Note:</strong> T·∫•t c·∫£ 14 controller ƒë·ªÅu ƒë∆∞·ª£c chi ti·∫øt h√≥a d∆∞·ªõi ƒë√¢y v·ªõi ƒë·∫ßy ƒë·ªß endpoint, request/response examples.
            </div>

            <h3>Danh S√°ch Controllers</h3>
            <table>
                <thead>
                    <tr>
                        <th>Controller</th>
                        <th>Base Path</th>
                        <th>Endpoints</th>
                        <th>M√¥ T·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>EnrollmentController</strong></td>
                        <td><code>/api/enrollments</code></td>
                        <td>5</td>
                        <td>Qu·∫£n l√Ω ƒëƒÉng k√Ω ch∆∞∆°ng tr√¨nh</td>
                    </tr>
                    <tr>
                        <td><strong>ProgramController</strong></td>
                        <td><code>/v1/programs</code></td>
                        <td>3</td>
                        <td>Qu·∫£n l√Ω ch∆∞∆°ng tr√¨nh (t·∫°o, l·∫•y)</td>
                    </tr>
                    <tr>
                        <td><strong>ProgramManagementController</strong></td>
                        <td><code>/api/programs</code></td>
                        <td>8</td>
                        <td>Qu·∫£n l√Ω chi ti·∫øt ch∆∞∆°ng tr√¨nh</td>
                    </tr>
                    <tr>
                        <td><strong>ModuleController</strong></td>
                        <td><code>/api/modules</code></td>
                        <td>7</td>
                        <td>Qu·∫£n l√Ω n·ªôi dung h·ªçc t·∫≠p</td>
                    </tr>
                    <tr>
                        <td><strong>PlanTemplateController</strong></td>
                        <td><code>/api/plan-templates</code></td>
                        <td>5</td>
                        <td>Qu·∫£n l√Ω m·∫´u ch∆∞∆°ng tr√¨nh</td>
                    </tr>
                    <tr>
                        <td><strong>CoachAssignmentController</strong></td>
                        <td><code>/api/coach-assignments</code></td>
                        <td>3</td>
                        <td>Qu·∫£n l√Ω assignment coach</td>
                    </tr>
                    <tr>
                        <td><strong>QuizDetailController</strong></td>
                        <td><code>/me/quiz</code></td>
                        <td>3</td>
                        <td>L·ªãch s·ª≠ & chi ti·∫øt quiz</td>
                    </tr>
                    <tr>
                        <td><strong>CoachVipQuizController</strong></td>
                        <td><code>/api/programs/{id}/coach/quiz</code></td>
                        <td>1</td>
                        <td>Quiz c√° nh√¢n cho VIP</td>
                    </tr>
                    <tr>
                        <td><strong>SmokeEventController</strong></td>
                        <td><code>/api/programs/{id}/smoke-events</code></td>
                        <td>1</td>
                        <td>Ghi nh·∫≠n s·ª± ki·ªán h√∫t thu·ªëc</td>
                    </tr>
                    <tr>
                        <td><strong>MeController</strong></td>
                        <td><code>/api/me</code></td>
                        <td>1</td>
                        <td>Dashboard user</td>
                    </tr>
                    <tr>
                        <td><strong>ProgramJoinController</strong></td>
                        <td><code>/v1/programs</code></td>
                        <td>1</td>
                        <td>User tham gia ch∆∞∆°ng tr√¨nh</td>
                    </tr>
                    <tr>
                        <td><strong>OnboardingFlowController</strong></td>
                        <td><code>/api/onboarding</code></td>
                        <td>1</td>
                        <td>Onboarding flow</td>
                    </tr>
                    <tr>
                        <td><strong>QuizController</strong></td>
                        <td><code>/v1/quiz</code></td>
                        <td>1</td>
                        <td>Submit quiz answers</td>
                    </tr>
                    <tr>
                        <td><strong>DebugController</strong></td>
                        <td><code>/debug</code></td>
                        <td>1</td>
                        <td>Debug endpoints (dev only)</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Detailed Endpoints -->
        <div class="section" id="endpoints">
            <h2>üì° API Endpoints</h2>

            <div class="alert warning">
                <strong>Important:</strong> ƒê√¢y l√† t·ªïng h·ª£p c·ªßa t·∫•t c·∫£ 50 endpoints t·ª´ 14 controllers. Xem file <code>API_DOCUMENTATION_COMPLETE.md</code> ƒë·ªÉ c√≥ chi ti·∫øt ƒë·∫ßy ƒë·ªß.
            </div>

            <h3>1. EnrollmentController - /api/enrollments</h3>
            <div class="endpoint">
                <div><span class="method post">POST</span> <span class="path">/api/enrollments/start-trial</span> <span class="auth-badge required">Authenticated</span></div>
                <p style="margin-top: 8px;">B·∫Øt ƒë·∫ßu ch∆∞∆°ng tr√¨nh trial 7 ng√†y</p>
                <div class="endpoint-detail">
                    <div class="detail-row">
                        <div class="detail-label">Request Body:</div>
                        <div class="detail-value"><code>{ "planTemplateId": "UUID" }</code></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Response:</div>
                        <div class="detail-value">EnrollmentRes (201 Created)</div>
                    </div>
                </div>
            </div>

            <div class="endpoint">
                <div><span class="method post">POST</span> <span class="path">/api/enrollments/start-paid</span> <span class="auth-badge required">Authenticated</span></div>
                <p style="margin-top: 8px;">B·∫Øt ƒë·∫ßu enrollment c√≥ tr·∫£ ti·ªÅn</p>
            </div>

            <div class="endpoint">
                <div><span class="method get">GET</span> <span class="path">/api/enrollments</span> <span class="auth-badge required">USER Role</span></div>
                <p style="margin-top: 8px;">L·∫•y danh s√°ch enrollment c·ªßa user</p>
            </div>

            <div class="endpoint">
                <div><span class="method post">POST</span> <span class="path">/api/enrollments/{id}/complete</span> <span class="auth-badge required">USER Role</span></div>
                <p style="margin-top: 8px;">Ho√†n th√†nh enrollment</p>
            </div>

            <h3 style="margin-top: 30px;">2. ProgramManagementController - /api/programs</h3>
            <div class="endpoint">
                <div><span class="method post">POST</span> <span class="path">/api/programs/{id}/upgrade-from-trial</span> <span class="auth-badge required">ADMIN</span></div>
                <p style="margin-top: 8px;">Upgrade t·ª´ trial sang paid</p>
            </div>

            <div class="endpoint">
                <div><span class="method get">GET</span> <span class="path">/api/programs/{id}/trial-status</span> <span class="auth-badge required">Authenticated</span></div>
                <p style="margin-top: 8px;">L·∫•y tr·∫°ng th√°i trial hi·ªán t·∫°i</p>
            </div>

            <div class="endpoint">
                <div><span class="method post">POST</span> <span class="path">/api/programs/{id}/end</span> <span class="auth-badge required">Authenticated</span></div>
                <p style="margin-top: 8px;">K·∫øt th√∫c ch∆∞∆°ng tr√¨nh s·ªõm</p>
            </div>

            <div class="endpoint">
                <div><span class="method post">POST</span> <span class="path">/api/programs/{id}/pause</span> <span class="auth-badge required">Authenticated</span></div>
                <p style="margin-top: 8px;">T·∫°m d·ª´ng ch∆∞∆°ng tr√¨nh</p>
            </div>

            <div class="endpoint">
                <div><span class="method post">POST</span> <span class="path">/api/programs/{id}/resume</span> <span class="auth-badge required">Authenticated</span></div>
                <p style="margin-top: 8px;">Ti·∫øp t·ª•c ch∆∞∆°ng tr√¨nh</p>
            </div>

            <div class="endpoint">
                <div><span class="method patch">PATCH</span> <span class="path">/api/programs/{id}/current-day</span> <span class="auth-badge required">ADMIN</span></div>
                <p style="margin-top: 8px;">C·∫≠p nh·∫≠t ng√†y hi·ªán t·∫°i</p>
            </div>

            <div class="endpoint">
                <div><span class="method post">POST</span> <span class="path">/api/programs/{id}/extend-trial</span> <span class="auth-badge required">ADMIN</span></div>
                <p style="margin-top: 8px;">M·ªü r·ªông trial th√™m N ng√†y</p>
            </div>

            <div class="endpoint">
                <div><span class="method get">GET</span> <span class="path">/api/programs/{id}/progress</span> <span class="auth-badge required">Authenticated</span></div>
                <p style="margin-top: 8px;">L·∫•y ti·∫øn ƒë·ªô chi ti·∫øt</p>
            </div>

            <h3 style="margin-top: 30px;">3. ModuleController - /api/modules</h3>
            <p>Qu·∫£n l√Ω n·ªôi dung h·ªçc t·∫≠p v·ªõi CRUD ƒë·∫ßy ƒë·ªß</p>
            <table style="margin-top: 15px;">
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Path</th>
                        <th>Description</th>
                        <th>Auth</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="method post">POST</span></td>
                        <td>/api/modules</td>
                        <td>T·∫°o module m·ªõi</td>
                        <td>ADMIN</td>
                    </tr>
                    <tr>
                        <td><span class="method get">GET</span></td>
                        <td>/api/modules/{id}</td>
                        <td>L·∫•y chi ti·∫øt module</td>
                        <td>Public</td>
                    </tr>
                    <tr>
                        <td><span class="method put">PUT</span></td>
                        <td>/api/modules/{id}</td>
                        <td>C·∫≠p nh·∫≠t module</td>
                        <td>ADMIN</td>
                    </tr>
                    <tr>
                        <td><span class="method delete">DELETE</span></td>
                        <td>/api/modules/{id}</td>
                        <td>X√≥a module</td>
                        <td>ADMIN</td>
                    </tr>
                    <tr>
                        <td><span class="method get">GET</span></td>
                        <td>/api/modules/by-code/{code}</td>
                        <td>L·∫•y module m·ªõi nh·∫•t theo code</td>
                        <td>Public</td>
                    </tr>
                    <tr>
                        <td><span class="method get">GET</span></td>
                        <td>/api/modules/by-code/{code}/versions</td>
                        <td>Xem t·∫•t c·∫£ versions</td>
                        <td>ADMIN</td>
                    </tr>
                    <tr>
                        <td><span class="method get">GET</span></td>
                        <td>/api/modules?q=...&page=0&size=20</td>
                        <td>Search modules</td>
                        <td>ADMIN</td>
                    </tr>
                </tbody>
            </table>

            <p style="margin-top: 20px;"><em>Chi ti·∫øt ƒë·∫ßy ƒë·ªß v·ªÅ c√°c endpoints kh√°c (ProgramController, PlanTemplateController, CoachAssignmentController, QuizDetailController, v.v.) xem file <strong>API_DOCUMENTATION_COMPLETE.md</strong></em></p>
        </div>

        <!-- Error Handling Section -->
        <div class="section" id="errors">
            <h2>‚ùå Error Handling</h2>

            <h3>Standard Error Response</h3>
            <pre><code>{
  "error": "ERROR_CODE",
  "message": "Human readable error message",
  "timestamp": "2025-11-27T10:00:00Z",
  "path": "/api/endpoint"
}</code></pre>

            <h3>HTTP Status Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>Meaning</th>
                        <th>Example</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>200</td>
                        <td>OK</td>
                        <td>Success GET request</td>
                    </tr>
                    <tr>
                        <td>201</td>
                        <td>Created</td>
                        <td>Resource created</td>
                    </tr>
                    <tr>
                        <td>204</td>
                        <td>No Content</td>
                        <td>Delete successful</td>
                    </tr>
                    <tr>
                        <td>400</td>
                        <td>Bad Request</td>
                        <td>Invalid input data</td>
                    </tr>
                    <tr>
                        <td>401</td>
                        <td>Unauthorized</td>
                        <td>Missing/invalid token</td>
                    </tr>
                    <tr>
                        <td>403</td>
                        <td>Forbidden</td>
                        <td>Insufficient permissions</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Not Found</td>
                        <td>Resource not found</td>
                    </tr>
                    <tr>
                        <td>409</td>
                        <td>Conflict</td>
                        <td>Business rule violation</td>
                    </tr>
                    <tr>
                        <td>500</td>
                        <td>Internal Error</td>
                        <td>Server error</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Examples Section -->
        <div class="section" id="examples">
            <h2>üí° Usage Examples</h2>

            <h3>Example 1: Start a Trial Program</h3>
            <pre><code>curl -X POST http://localhost:8080/api/enrollments/start-trial \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <JWT_TOKEN>" \
  -d '{
    "planTemplateId": "22222222-2222-2222-2222-222222222222"
  }'

// Response (201 Created)
{
  "id": "33333333-3333-3333-3333-333333333333",
  "userId": "11111111-1111-1111-1111-111111111111",
  "planTemplateId": "22222222-2222-2222-2222-222222222222",
  "status": "ACTIVE",
  "startDate": "2025-11-27T00:00:00Z",
  "trialEndDate": "2025-12-04T00:00:00Z",
  "isPaid": false
}</code></pre>

            <h3>Example 2: Check Trial Status</h3>
            <pre><code>curl -X GET http://localhost:8080/api/programs/a562c314-47dd-497d-ab6f-67b750d2d384/trial-status \
  -H "Authorization: Bearer <JWT_TOKEN>"

// Response (200 OK)
{
  "isTrialPeriod": true,
  "trialStartedAt": "2025-11-27T00:00:00Z",
  "trialEndExpected": "2025-12-04T00:00:00Z",
  "remainingDays": 7,
  "canUpgradeNow": true
}</code></pre>

            <h3>Example 3: Get Program Progress</h3>
            <pre><code>curl -X GET http://localhost:8080/api/programs/a562c314-47dd-497d-ab6f-67b750d2d384/progress \
  -H "Authorization: Bearer <JWT_TOKEN>"

// Response (200 OK)
{
  "programId": "a562c314-47dd-497d-ab6f-67b750d2d384",
  "status": "ACTIVE",
  "currentDay": 5,
  "planDays": 30,
  "percentComplete": 16.67,
  "daysRemaining": 25,
  "stepsCompleted": 10,
  "stepsTotal": 50,
  "streakCurrent": 5,
  "trialRemainingDays": 2
}</code></pre>
        </div>
    </div>

    <div class="footer">
        <p><strong>Program Service API Documentation</strong></p>
        <p>Last Updated: November 27, 2025 | Version 1.0.0</p>
        <p>For more details, refer to <code>API_DOCUMENTATION_COMPLETE.md</code></p>
    </div>

    <div class="back-to-top" onclick="window.scrollTo({top:0, behavior:'smooth'})">‚Üë</div>

    <script>
        // Show/hide back-to-top button
        window.addEventListener('scroll', function() {
            const btn = document.querySelector('.back-to-top');
            if (window.pageYOffset > 300) {
                btn.classList.add('show');
            } else {
                btn.classList.remove('show');
            }
        });

        // Smooth scroll for links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    </script>
</body>
</html>

